(this["webpackJsonplotr-trivia"]=this["webpackJsonplotr-trivia"]||[]).push([[0],{32:function(t,e,a){},93:function(t,e,a){},94:function(t,e,a){"use strict";a.r(e);var r=a(2),n=a.n(r),s=a(22),c=a.n(s),o=(a(32),a(3)),l=a.n(o),i=a(8),u=a(23),h=a(24),d=a(27),p=a(26),f=a(25),j=a(0),S=function(t){var e=t.char,a=t.id,r=t.classname,n=t.handleSelection;return Object(j.jsxs)("div",{className:"individualOptions "+r,children:[Object(j.jsx)("label",{htmlFor:a,children:e}),Object(j.jsx)("input",{type:"radio",id:a,name:"option",value:e,onChange:n}),Object(j.jsx)("br",{})]})},m=function(t){return Math.floor(Math.random()*(t.length-0)+0)},b=function(t){for(var e=t.character,a=t.characters,r=t.handleSelection,n=[],s=0,c=Math.floor(3*Math.random()+0),o=0;o<4;o++)null!==a&&(n[o]=a[m(a)],(n.slice(0,n.length-1).includes(n[o])||n[o]===e)&&(o-=1));return n.map((function(t){return c===(s+=1)-1?Object(j.jsx)(S,{char:e,id:"option"+s,classname:"answer",handleSelection:r},e):Object(j.jsx)(S,{char:t,id:"option"+s,classname:"",handleSelection:r},t)}))},O=(a(93),function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(t){var r;return Object(u.a)(this,a),(r=e.call(this,t)).updateStoredData=function(){r.allCharacters=JSON.parse(localStorage.getItem("allCharacters")),r.allQuotes=JSON.parse(localStorage.getItem("allQuotes")),r.allQuotesChars=JSON.parse(localStorage.getItem("allQuotesChars"))},r.updateQuote=function(){r.setState({cardStatus:"makeOptionsTransparent"});var t=r.allQuotes[Math.floor(Math.random()*(r.allQuotes.length-0)+0)];r.allCharacters.forEach((function(e){e._id!==t.character||r.setState({currentQuote:t,currentCharacter:e,cardStatus:"show"})}))},r.getAllCharsFromQuotes=function(){var t=[];r.allQuotes.forEach((function(e){r.allCharacters.forEach((function(a){t.includes(a.name)||e.character!==a._id||t.push(a.name)}))})),localStorage.setItem("allQuotesChars",JSON.stringify(t)),r.updateStoredData()},r.handleSelection=function(t){r.optionSelected=!0,r.currentSelection=t.target.value},r.handleSubmit=function(){(r.optionSelected||"hide"===r.state.cardStatus)&&(r.currentSelection===r.state.currentCharacter.name?(r.correctAnswers+=1,r.resultText="Correct!",r.correctAnswer=!0):"show"===r.state.cardStatus&&(r.resultText="Correct Answer: "+r.state.currentCharacter.name,r.correctAnswer=!1),r.updateQuote(),r.optionSelected=!1)},r.buttonContent=function(){return"show"===r.state.cardStatus?"Submit":"Start"},r.state={currentQuote:[],currentCharacter:[],cardStatus:"hide"},r.urls=["https://the-one-api.dev/v2/quote/","https://the-one-api.dev/v2/character/"],r.allCharacters=JSON.parse(localStorage.getItem("allCharacters")),r.allQuotes=JSON.parse(localStorage.getItem("allQuotes")),r.allQuotesChars=JSON.parse(localStorage.getItem("allQuotesChars")),r.correctAnswers=0,r.currentSelection="",r.optionSelected=!1,r.correctAnswer=!1,r.resultText="",r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchQuotes();case 2:return t.next=4,this.fetchAllCharacters();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchQuotes",value:function(){var t=Object(i.a)(l.a.mark((function t(){var e,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.urls[0],{headers:{Authorization:"Bearer Ye6ZHvvDJkrLbHVjNtK4"}});case 2:return e=t.sent,t.next=5,e.json();case 5:a=t.sent,localStorage.setItem("allQuotes",JSON.stringify(a.docs)),this.updateStoredData();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchAllCharacters",value:function(){var t=Object(i.a)(l.a.mark((function t(){var e,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.urls[1],{headers:{Authorization:"Bearer Ye6ZHvvDJkrLbHVjNtK4"}});case 2:return e=t.sent,t.next=5,e.json();case 5:a=t.sent,localStorage.setItem("allCharacters",JSON.stringify(a.docs)),this.updateStoredData(),this.getAllCharsFromQuotes();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{}),Object(j.jsx)(f.Animated,{animationIn:"",animationOut:"",isVisible:!0,children:Object(j.jsx)("div",{className:"quote",children:Object(j.jsx)("h4",{className:"quoteText",children:this.state.currentQuote.dialog})})}),Object(j.jsx)("div",{className:"score",children:Object(j.jsx)("h3",{children:"Score: "+this.correctAnswers})}),Object(j.jsxs)("div",{className:"options",children:[Object(j.jsx)("h4",{className:"resultText",style:{color:!0===this.correctAnswer?"green":"red"},children:this.resultText}),Object(j.jsxs)("form",{className:"allOptions",children:[Object(j.jsx)(b,{character:"show"===this.state.cardStatus?this.state.currentCharacter.name:null,characters:"show"===this.state.cardStatus?this.allQuotesChars:null,handleSelection:this.handleSelection}),Object(j.jsx)("button",{onClick:this.handleSubmit,type:"button",children:this.buttonContent()})]})]}),Object(j.jsx)("div",{})]})}}]),a}(r.Component)),v=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,95)).then((function(e){var a=e.getCLS,r=e.getFID,n=e.getFCP,s=e.getLCP,c=e.getTTFB;a(t),r(t),n(t),s(t),c(t)}))};c.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root")),v()}},[[94,1,2]]]);
//# sourceMappingURL=main.042e726b.chunk.js.map