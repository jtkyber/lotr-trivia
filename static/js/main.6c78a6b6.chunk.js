(this["webpackJsonplotr-trivia"]=this["webpackJsonplotr-trivia"]||[]).push([[0],{32:function(t,e,r){},93:function(t,e,r){},94:function(t,e,r){"use strict";r.r(e);var a=r(2),n=r.n(a),s=r(22),c=r.n(s),o=(r(32),r(3)),l=r.n(o),i=r(8),u=r(23),h=r(24),d=r(27),f=r(26),p=r(25),j=r(0),m=function(t){var e=t.char,r=t.id,a=t.classname,n=t.handleSelection;return Object(j.jsxs)("div",{className:"individualOptions "+a,children:[Object(j.jsx)("label",{htmlFor:r,children:e}),Object(j.jsx)("input",{type:"radio",id:r,name:"option",value:e,onChange:n}),Object(j.jsx)("br",{})]})},S=function(t){return Math.floor(Math.random()*(t.length-0)+0)},O=function(t){for(var e=t.character,r=t.characters,a=t.handleSelection,n=[],s=0,c=Math.floor(3*Math.random()+0),o=0;o<4;o++)null!==r&&(n[o]=r[S(r)],(n.slice(0,n.length-1).includes(n[o])||n[o]===e)&&(o-=1));return n.map((function(t){return c===(s+=1)-1?Object(j.jsx)(m,{char:e,id:"option"+s,classname:"answer",handleSelection:a},e):Object(j.jsx)(m,{char:t,id:"option"+s,classname:"",handleSelection:a},t)}))},b=(r(93),function(t){Object(d.a)(r,t);var e=Object(f.a)(r);function r(t){var a;return Object(u.a)(this,r),(a=e.call(this,t)).updateStoredData=function(){a.allCharacters=JSON.parse(localStorage.getItem("allCharacters")),a.allQuotes=JSON.parse(localStorage.getItem("allQuotes")),a.allQuotesChars=JSON.parse(localStorage.getItem("allQuotesChars"))},a.updateQuote=function(){a.setState({cardStatus:"makeOptionsTransparent"});for(var t=a.allQuotes[Math.floor(Math.random()*(a.allQuotes.length-0)+0)];t.dialog.length<20;)console.log("too short"),t=a.allQuotes[Math.floor(Math.random()*(a.allQuotes.length-0)+0)];a.allCharacters.forEach((function(e){e._id!==t.character||a.setState({currentQuote:t,currentCharacter:e,cardStatus:"show"})}))},a.getAllCharsFromQuotes=function(){var t=[];a.allQuotes.forEach((function(e){a.allCharacters.forEach((function(r){t.includes(r.name)||e.character!==r._id||t.push(r.name)}))})),localStorage.setItem("allQuotesChars",JSON.stringify(t)),a.updateStoredData()},a.handleSelection=function(t){a.optionSelected=!0,a.currentSelection=t.target.value,a.selectedOption=t.target},a.handleSubmit=function(){(a.optionSelected||"hide"===a.state.cardStatus)&&(a.currentSelection===a.state.currentCharacter.name?(a.correctAnswers+=1,a.resultText="Correct!",a.correctAnswer=!0,a.numberOfQuestions+=1,a.selectedOption.checked=!1):"show"===a.state.cardStatus&&(a.resultText="Correct Answer: "+a.state.currentCharacter.name,a.correctAnswer=!1,a.numberOfQuestions+=1,a.selectedOption.checked=!1),a.updateQuote(),a.optionSelected=!1)},a.buttonContent=function(){return"show"===a.state.cardStatus?"Submit":"Start"},a.state={currentQuote:[],currentCharacter:[],cardStatus:"hide"},a.urls=["https://the-one-api.dev/v2/quote/","https://the-one-api.dev/v2/character/"],a.allCharacters=JSON.parse(localStorage.getItem("allCharacters")),a.allQuotes=JSON.parse(localStorage.getItem("allQuotes")),a.allQuotesChars=JSON.parse(localStorage.getItem("allQuotesChars")),a.correctAnswers=0,a.numberOfQuestions=0,a.currentSelection="",a.optionSelected=!1,a.correctAnswer=!1,a.resultText="",a.selectedOption="",a}return Object(h.a)(r,[{key:"componentDidMount",value:function(){var t=Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchQuotes();case 2:return t.next=4,this.fetchAllCharacters();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchQuotes",value:function(){var t=Object(i.a)(l.a.mark((function t(){var e,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.urls[0],{headers:{Authorization:"Bearer Ye6ZHvvDJkrLbHVjNtK4"}});case 2:return e=t.sent,t.next=5,e.json();case 5:r=t.sent,localStorage.setItem("allQuotes",JSON.stringify(r.docs)),this.updateStoredData();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchAllCharacters",value:function(){var t=Object(i.a)(l.a.mark((function t(){var e,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.urls[1],{headers:{Authorization:"Bearer Ye6ZHvvDJkrLbHVjNtK4"}});case 2:return e=t.sent,t.next=5,e.json();case 5:r=t.sent,localStorage.setItem("allCharacters",JSON.stringify(r.docs)),this.updateStoredData(),this.getAllCharsFromQuotes();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{}),Object(j.jsx)(p.Animated,{animationIn:"",animationOut:"",isVisible:!0,children:Object(j.jsx)("div",{className:"quote",children:Object(j.jsx)("h4",{className:"quoteText",children:this.state.currentQuote.dialog})})}),Object(j.jsx)("div",{className:"score",children:Object(j.jsx)("h3",{children:"Score: "+this.correctAnswers+"/"+this.numberOfQuestions})}),Object(j.jsxs)("div",{className:"options",children:[Object(j.jsx)("h4",{className:"resultText",style:{color:!0===this.correctAnswer?"green":"red"},children:this.resultText}),Object(j.jsxs)("form",{className:"allOptions",children:[Object(j.jsx)(O,{character:"show"===this.state.cardStatus?this.state.currentCharacter.name:null,characters:"show"===this.state.cardStatus?this.allQuotesChars:null,handleSelection:this.handleSelection}),Object(j.jsx)("button",{onClick:this.handleSubmit,type:"button",children:this.buttonContent()})]})]}),Object(j.jsx)("div",{})]})}}]),r}(a.Component)),v=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,95)).then((function(e){var r=e.getCLS,a=e.getFID,n=e.getFCP,s=e.getLCP,c=e.getTTFB;r(t),a(t),n(t),s(t),c(t)}))};c.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root")),v()}},[[94,1,2]]]);
//# sourceMappingURL=main.6c78a6b6.chunk.js.map